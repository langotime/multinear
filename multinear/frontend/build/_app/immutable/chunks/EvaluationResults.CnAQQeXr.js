import{a as w,t as M,b as P}from"./disclose-version.DitXKBiM.js";import{i as B}from"./legacy.DmYQQF0A.js";import{p as D,l as G,b as H,c as a,t as b,r,s as z,a as I,d as J,q as k,g as t,m as K,u as E}from"./index-client.IJhfC0Az.js";import{e as R,i as T}from"./index.DJ6cfu9r.js";import{s as j}from"./class.CFHkN7I5.js";import{p as v,i as V}from"./props.C-C6UnW2.js";function A(s,e=!1){const f=e?" print:bg-green-50":"";return s>=1?{color:`status-completed status-completed-border${f}`,border:"status-completed-border",text:"text-green-600"}:s>=.5?{color:`status-default status-default-border${e?" print:bg-yellow-50":""}`,border:"status-default-border",text:"text-yellow-500"}:{color:`status-failed status-failed-border${e?" print:bg-red-50":""}`,border:"status-failed-border",text:"text-red-600"}}function ne(s,e=500){return s.length<=e?s:s.slice(0,e)+"..."}var W=M('<div class="mt-1 -mr-2.5"><span> </span></div>'),X=M('<div class="flex flex-col" style="min-height: 40px"><div class="h-9"><div><span class="text-xs font-medium leading-none"> </span></div></div> <!></div>');function Y(s,e){D(e,!1);const f=K();let c=v(e,"score",8),u=v(e,"minScore",8,void 0),S=v(e,"includePrintStyles",8,!1),_=v(e,"showMinScore",8,!0);G(()=>(k(u()),k(c())),()=>{J(f,u()?c()/u():c())}),H(),B();var x=X(),g=a(x),m=a(g);const i=E(()=>`flex-none flex items-center justify-center w-9 h-9 rounded-full border
            ${A(t(f),S()).color??""}`);var n=a(m),o=a(n);b(()=>P(o,`${(c()*100).toFixed(0)??""}%`)),r(n),r(m),r(g);var d=z(g,2);V(d,()=>u()&&_(),l=>{var p=W(),y=a(p);const q=E(()=>`text-[10px] font-medium ${A(c(),S()).text??""}`);var h=a(y);b(()=>P(h,`min: ${(u()*100).toFixed(0)??""}%`)),r(y),r(p),b(()=>j(y,t(q))),w(l,p)}),r(x),b(()=>j(m,t(i))),w(s,x),I()}var Z=M("<div> </div>"),L=M('<div><div class="flex gap-3 items-start"><div class="flex-none pt-[2px]"><!></div> <div></div></div> <div class="mt-1 text-sm text-gray-600"> </div></div>'),$=M('<div class="space-y-5 divide-y divide-gray-100"></div>');function oe(s,e){D(e,!1);const f=K();let c=v(e,"evaluations",8),u=v(e,"evalSpec",8),S=v(e,"includePrintStyles",8,!1),_=v(e,"filter",8,"");function x(i){var n,o,d;try{return(d=(o=(n=u())==null?void 0:n.checklist)==null?void 0:o.find(l=>typeof l=="object"&&l.text===i))==null?void 0:d.min_score}catch{return 1}}function g(i){return i.score>=x(i.criterion)}G(()=>(k(c()),k(_())),()=>{J(f,c().filter(i=>_()===""||_()==="passed"&&g(i)||_()==="failed"&&!g(i)))}),H(),B();var m=$();R(m,5,()=>t(f),T,(i,n)=>{var o=L();const d=E(()=>x(t(n).criterion));var l=a(o),p=a(l),y=a(p),q=E(()=>t(d)!==void 0&&t(d)<1);Y(y,{get score(){return t(n).score},get minScore(){return t(d)},get showMinScore(){return t(q)},get includePrintStyles(){return S()}}),r(p);var h=z(p,2);R(h,5,()=>t(n).criterion.replace(/\\n/g,`
`).replace(/\\(\s{1,2})\\ /g," ").split(`
`),T,(O,Q)=>{var F=Z(),U=a(F,!0);r(F),b(()=>P(U,t(Q))),w(O,F)}),r(h),r(l);var C=z(l,2),N=a(C,!0);r(C),r(o),b(()=>{j(o,`pt-4 first:pt-0 ${(S()?"print:break-inside-avoid":"")??""}`),j(h,`text-sm font-medium flex-1 ${(t(d)?"pb-7":"pb-1")??""}`),P(N,t(n).rationale)}),w(i,o)}),r(m),w(s,m),I()}export{oe as E,Y as S,ne as t};
